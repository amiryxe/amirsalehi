{"version":3,"file":"d6f19216aa2136f7a4e594218f713e5bdea3225e-e1fad12c8548db00a7e6.js","mappings":"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","sources":["webpack://amirsalehi/./storage/blog/13/index.mdx","webpack://amirsalehi/./node_modules/@mdx-js/react/lib/index.js"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    span: \"span\",\n    p: \"p\",\n    strong: \"strong\",\n    h3: \"h3\",\n    ol: \"ol\",\n    li: \"li\",\n    h2: \"h2\",\n    a: \"a\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<style class=\\\"grvsc-styles\\\">\\n  .grvsc-container {\\n    overflow: auto;\\n    position: relative;\\n    -webkit-overflow-scrolling: touch;\\n    padding-top: 1rem;\\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\\n    padding-bottom: 1rem;\\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\\n    border-radius: 8px;\\n    border-radius: var(--grvsc-border-radius, 8px);\\n    font-feature-settings: normal;\\n    line-height: 1.4;\\n  }\\n  \\n  .grvsc-code {\\n    display: table;\\n  }\\n  \\n  .grvsc-line {\\n    display: table-row;\\n    box-sizing: border-box;\\n    width: 100%;\\n    position: relative;\\n  }\\n  \\n  .grvsc-line > * {\\n    position: relative;\\n  }\\n  \\n  .grvsc-gutter-pad {\\n    display: table-cell;\\n    padding-left: 0.75rem;\\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\\n  }\\n  \\n  .grvsc-gutter {\\n    display: table-cell;\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    user-select: none;\\n  }\\n  \\n  .grvsc-gutter::before {\\n    content: attr(data-content);\\n  }\\n  \\n  .grvsc-source {\\n    display: table-cell;\\n    padding-left: 1.5rem;\\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\\n    padding-right: 1.5rem;\\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\\n  }\\n  \\n  .grvsc-source:empty::after {\\n    content: ' ';\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    user-select: none;\\n  }\\n  \\n  .grvsc-gutter + .grvsc-source {\\n    padding-left: 0.75rem;\\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\\n  }\\n  \\n  /* Line transformer styles */\\n  \\n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\\n    content: ' ';\\n    position: absolute;\\n    width: 100%;\\n  }\\n  \\n  .grvsc-line-diff-add::before {\\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\\n  }\\n  \\n  .grvsc-line-diff-del::before {\\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\\n  }\\n  \\n  .grvsc-line-number {\\n    padding: 0 2px;\\n    text-align: right;\\n    opacity: 0.7;\\n  }\\n  \\n  .quiet-light { background-color: #F5F5F5; }\\n  .quiet-light .grvsc-tZ0ymb-b { font-weight: bold; }\\n  .quiet-light .grvsc-tZ0ymb-1 { color: #333333; }\\n  .quiet-light .grvsc-tZ0ymb-6 { color: #777777; }\\n  .quiet-light .grvsc-tZ0ymb-4 { color: #448C27; }\\n  .quiet-light .grvsc-tZ0ymb-7 { color: #7A3E9D; }\\n  .quiet-light .grvsc-tZ0ymb-9 { color: #AA3731; }\\n  .quiet-light .grvsc-tZ0ymb-10 { color: #4B69C6; }\\n  .quiet-light .grvsc-tZ0ymb-5 { color: #9C5D27; }\\n  .quiet-light .grvsc-line-highlighted::before {\\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\\n  }\\n  html[class=dark] .grvsc-ps-tsSx3w {\\n    background-color: #272822;\\n    color: #f8f8f2;\\n  }\\n  html[class=dark] .grvsc-ps-tsSx3w .grvsc-tsSx3w-i { font-style: italic; }\\n  html[class=dark] .grvsc-ps-tsSx3w .grvsc-tsSx3w-1 { color: #F8F8F2; }\\n  html[class=dark] .grvsc-ps-tsSx3w .grvsc-tsSx3w-6 { color: #E6DB74; }\\n  html[class=dark] .grvsc-ps-tsSx3w .grvsc-tsSx3w-9 { color: #66D9EF; }\\n  html[class=dark] .grvsc-ps-tsSx3w .grvsc-tsSx3w-7 { color: #F92672; }\\n  html[class=dark] .grvsc-ps-tsSx3w .grvsc-tsSx3w-5 { color: #A6E22E; }\\n  html[class=dark] .grvsc-ps-tsSx3w .grvsc-tsSx3w-10 { color: #FD971F; }\\n  html[class=dark] .grvsc-ps-tsSx3w .grvsc-tsSx3w-4 { color: #AE81FF; }\\n  html[class=dark] .grvsc-ps-tsSx3w .grvsc-line-highlighted::before {\\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\\n  }\\n</style>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"تو دنیای برنامه‌نویسی و به‌ویژه دیتابیس‌ها، \", React.createElement(_components.strong, null, \"Migration\"), \" یکی از مفاهیم کلیدی و خیلی مهمه. اگه بخوایم خیلی ساده بگیم، migration یعنی \", React.createElement(_components.strong, null, \"تغییر یا به‌روزرسانی ساختار دیتابیس\"), \". این تغییرات ممکنه شامل اضافه‌کردن جدول‌های جدید، تغییر ساختار فیلدهای موجود، حذف یا تغییر نوع داده‌ها و یا حتی انتقال اطلاعات بین جداول باشه.\"), \"\\n\", React.createElement(_components.h3, null, \"چرا از Migration استفاده می‌کنیم؟\"), \"\\n\", React.createElement(_components.p, null, \"فرض کن داری روی یه پروژه کوچیک کار می‌کنی. یه دیتابیس ساختی که توش یه جدول برای اطلاعات \", React.createElement(_components.strong, null, \"کاربران\"), \" داری. اوایل پروژه فقط یه سری اطلاعات اولیه از کاربران می‌گیری مثل اسم و ایمیل، اما بعد از مدتی شاید نیاز پیدا کنی که آدرس و شماره تماس کاربرا رو هم ذخیره کنی. حالا باید ساختار دیتابیس رو عوض کنی. اولش شاید فکر کنی: «خب، میرم دستی فیلد‌های جدید رو اضافه می‌کنم و کار تمومه.» اما، این روش چندتا مشکل داره:\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"خطر خطاهای انسانی\"), \": فرض کن چند نفر دیگه همزمان دارن روی همون پروژه کار می‌کنن. اگه هرکسی بخواد به‌صورت دستی تغییرات رو تو دیتابیس خودش اعمال کنه، ممکنه یکی یه چیزی رو اشتباه وارد کنه، یکی یادش بره فیلد جدید رو اضافه کنه و... اینجاست که کل تیم با مشکلات بزرگی مواجه میشه. ولی اگه از migration استفاده کنی، تغییرات به صورت \", React.createElement(_components.strong, null, \"یک‌پارچه و خودکار\"), \" روی همه دیتابیس‌ها اعمال میشه.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"کنترل نسخه‌های دیتابیس\"), \": توی پروژه‌هایی که روز به روز در حال تغییر و بزرگ‌تر شدن هستن، نیاز داری ساختار دیتابیس هم متناسب با نیازهای جدید به‌روزرسانی بشه. ممکنه امروز فیلد \\\"آدرس\\\" رو اضافه کنی و فردا بخوای فیلد \\\"سن\\\" یا \\\"وضعیت شغلی\\\" رو اضافه کنی. migration بهت این امکان رو میده که هر تغییر رو به عنوان یک \", React.createElement(_components.strong, null, \"\\\"نسخه\\\"\"), \" ثبت کنی. یعنی اگه امروز یه فیلد اضافه کردی و فردا متوجه شدی که نیازی بهش نداری، می‌تونی خیلی راحت برگردی به \", React.createElement(_components.strong, null, \"نسخه قبلی\"), \" بدون اینکه کل دیتابیس رو خراب کنی.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"خودکار شدن فرآیندها\"), \": فرض کن یه پروژه بزرگ داری که قراره روی سرورهای مختلف اجرا بشه. اگه بخوای برای هر تغییر دیتابیس به صورت دستی عمل کنی، دیگه وقتی برای کارهای مهم‌تر نمی‌مونه. با migration، تنها با اجرای یک دستور، تغییرات به صورت خودکار روی تمام \", React.createElement(_components.strong, null, \"سرورها و محیط‌های توسعه\"), \" (development، staging و production) اعمال میشه.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"ردگیری تغییرات دیتابیس\"), \": با migration، می‌تونی هر تغییر کوچکی که تو دیتابیس انجام دادی رو مثل یه \", React.createElement(_components.strong, null, \"تاریخچه\"), \" ذخیره کنی. مثلا اگه چند ماه بعد بخوای بفهمی فلان فیلد کی اضافه شده و چرا، می‌تونی با نگاه کردن به تاریخچه migration‌ها بفهمی که چه اتفاقی افتاده و چه کسی اون تغییر رو اعمال کرده.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"سازگاری با تست‌ها و محیط‌های مختلف\"), \": در پروژه‌های حرفه‌ای، خیلی مهمه که تغییرات رو قبل از اعمال تو محیط اصلی (production) \", React.createElement(_components.strong, null, \"تست\"), \" کنی. وقتی از migration استفاده می‌کنی، می‌تونی همون تغییرات رو تو محیط‌های تست اعمال کنی و مطمئن بشی که همه چیز درسته. این باعث میشه دیتای تستی تو محیط توسعه دقیقا شبیه دیتای اصلی باشه.\"), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, \"اینجاست که Migration به کمک میاد!\"), \"\\n\", React.createElement(_components.p, null, \"Migration به تو این امکان رو میده که تغییرات دیتابیس رو با استفاده از کد و به صورت خودکار مدیریت کنی. یعنی هر زمان که نیاز به تغییر ساختار دیتابیس داری، این تغییرات رو از طریق کد اعمال کنی و مطمئن باشی که همه‌جا درست اجرا میشه.\"), \"\\n\", React.createElement(_components.h3, null, \"مزایای استفاده از Migration\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"همگام‌سازی بین تیم‌های مختلف\"), \": تو پروژه‌های بزرگ که چند نفر دارن روی یه دیتابیس کار می‌کنن، استفاده از migration خیلی مهمه. چون با استفاده از این قابلیت همه اعضای تیم مطمئن هستن که تغییرات دیتابیس به درستی اعمال شده و هیچ‌کس تغییرات رو از دست نمیده.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"بازگشت به نسخه‌های قبلی\"), \": فرض کن یه تغییر اشتباه تو دیتابیس انجام دادی و سیستم به مشکل خورده. اگه از migration استفاده کنی، به راحتی می‌تونی تغییرات رو به عقب برگردونی و همه چیز رو مثل قبل کنی.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"اتوماتیک‌سازی تغییرات\"), \": دیگه نیازی نیست دستی بری تو دیتابیس و تغییرات رو اعمال کنی. با اجرای مایگریشن، تمام تغییرات به‌صورت خودکار و دقیق روی دیتابیس پیاده میشه.\"), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, \"Migration در فریمورک‌های جاوااسکریپت\"), \"\\n\", React.createElement(_components.p, null, \"حالا بیایم یه نگاهی بندازیم به چگونگی استفاده از Migration تو دنیای \", React.createElement(_components.strong, null, React.createElement(_components.a, {\n    href: \"https://amirsalehi.ir/categories/javascript/\"\n  }, \"جاوااسکریپت\")), \"، به‌خصوص با استفاده از فریمورک‌هایی مثل \", React.createElement(_components.strong, null, \"Sequelize\"), \" که تو Node.js خیلی محبوبه.\"), \"\\n\", React.createElement(_components.h3, null, \"مثال: Sequelize و Migration\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"Sequelize\"), \" یکی از ORM‌های معروف برای جاوااسکریپته که با دیتابیس‌های SQL مثل MySQL، PostgreSQL و SQLite کار می‌کنه. این ORM یه سیستم migration داخلی داره که به تو اجازه میده تا تغییرات دیتابیس رو به‌صورت نسخه‌دار مدیریت کنی.\"), \"\\n\", React.createElement(_components.p, null, \"فرض کن یه پروژه داری و تو مرحله اول یه مدل به نام \", React.createElement(_components.code, null, \"User\"), \" داری که شامل دو فیلده: \", React.createElement(_components.code, null, \"name\"), \" و \", React.createElement(_components.code, null, \"email\"), \". حالا بعد از مدتی تصمیم می‌گیری یه فیلد جدید به اسم \", React.createElement(_components.code, null, \"age\"), \" اضافه کنی. به جای اینکه بری تو دیتابیس دستی این کار رو انجام بدی، می‌تونی از migration استفاده کنی.\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"ایجاد Migration\"), \":\"), \"\\n\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<pre class=\\\"grvsc-container quiet-light grvsc-ps-tsSx3w\\\" data-language=\\\"bash\\\" data-index=\\\"0\\\"><code class=\\\"grvsc-code\\\"><span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">npx sequelize-cli migration:generate --name add-age-to-user</span></span></span></code></pre>\"\n    }\n  }), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"ویرایش Migration\"), \":\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"تو فایلی که با دستور بالا ایجاد شد، می‌تونی تغییراتت رو اعمال کنی. مثلا برای اضافه‌کردن فیلد \", React.createElement(_components.code, null, \"age\"), \" به جدول \", React.createElement(_components.code, null, \"User\"), \":\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<pre class=\\\"grvsc-container quiet-light grvsc-ps-tsSx3w\\\" data-language=\\\"javascript\\\" data-index=\\\"1\\\"><code class=\\\"grvsc-code\\\"><span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-4 grvsc-tsSx3w-6\\\">use strict</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">;</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-9 grvsc-tsSx3w-i\\\">module</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">.</span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-9 grvsc-tsSx3w-i\\\">exports</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-7\\\">=</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">{</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">  </span><span class=\\\"grvsc-tZ0ymb-9 grvsc-tZ0ymb-b grvsc-tsSx3w-5\\\">up</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">:</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-10 grvsc-tsSx3w-7\\\">async</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">(</span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-10 grvsc-tsSx3w-i\\\">queryInterface</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">,</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-10 grvsc-tsSx3w-i\\\">Sequelize</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">)</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-9 grvsc-tsSx3w-i\\\">=&gt;</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">{</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">    </span><span class=\\\"grvsc-tZ0ymb-10 grvsc-tsSx3w-7\\\">await</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-1\\\">queryInterface</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">.</span><span class=\\\"grvsc-tZ0ymb-9 grvsc-tZ0ymb-b grvsc-tsSx3w-5\\\">addColumn</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">(</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-4 grvsc-tsSx3w-6\\\">Users</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">,</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-4 grvsc-tsSx3w-6\\\">age</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">,</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">{</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">      type</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">:</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-1\\\">Sequelize</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">.</span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-1\\\">INTEGER</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">,</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">      allowNull</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">:</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-5 grvsc-tsSx3w-4\\\">true</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">,</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">    </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">}</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">)</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">;</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">  </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">},</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">  </span><span class=\\\"grvsc-tZ0ymb-9 grvsc-tZ0ymb-b grvsc-tsSx3w-5\\\">down</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">:</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-10 grvsc-tsSx3w-7\\\">async</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">(</span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-10 grvsc-tsSx3w-i\\\">queryInterface</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">,</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-10 grvsc-tsSx3w-i\\\">Sequelize</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">)</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-9 grvsc-tsSx3w-i\\\">=&gt;</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">{</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">    </span><span class=\\\"grvsc-tZ0ymb-10 grvsc-tsSx3w-7\\\">await</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-7 grvsc-tsSx3w-1\\\">queryInterface</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">.</span><span class=\\\"grvsc-tZ0ymb-9 grvsc-tZ0ymb-b grvsc-tsSx3w-5\\\">removeColumn</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">(</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-4 grvsc-tsSx3w-6\\\">Users</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">,</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\"> </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-4 grvsc-tsSx3w-6\\\">age</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-6\\\">&#39;</span><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">)</span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">;</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">  </span><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">}</span></span></span>\\n<span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-6 grvsc-tsSx3w-1\\\">};</span></span></span></code></pre>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"اینجا تابع \", React.createElement(_components.code, null, \"up\"), \" مشخص میکنه که میخوایم فیلد \", React.createElement(_components.code, null, \"age\"), \" رو به جدول \", React.createElement(_components.code, null, \"Users\"), \" اضافه کنیم. تابع \", React.createElement(_components.code, null, \"down\"), \" هم برای برگردوندن تغییرات به حالت قبل استفاده میشه، یعنی اگه بخوای فیلد \", React.createElement(_components.code, null, \"age\"), \" رو پاک کنی به کار میاد.\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"اجرای Migration\"), \":\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"حالا برای اجرای این migration، فقط کافیه دستور زیر رو اجرا کنی:\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<pre class=\\\"grvsc-container quiet-light grvsc-ps-tsSx3w\\\" data-language=\\\"bash\\\" data-index=\\\"2\\\"><code class=\\\"grvsc-code\\\"><span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">npx sequelize-cli db:migrate</span></span></span></code></pre>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"با این کار، فیلد جدید به جدول اضافه میشه و دیتابیس به‌روز میشه.\"), \"\\n\", React.createElement(_components.h3, null, \"یه مثال جالب دیگه: Rollback (برگشت به عقب)\"), \"\\n\", React.createElement(_components.p, null, \"فرض کن داری روی یه پروژه بزرگ کار می‌کنی و کلی تغییر تو دیتابیس اعمال کردی. همه‌چی خوب پیش میره، اما یهو یکی از هم‌تیمی‌هات یه migration رو اشتباه نوشته و دیتابیس به‌هم می‌ریزه. تو اینجور مواقع، اگه از migration استفاده نکنی، احتمالاً باید ساعت‌ها وقت بذاری و به‌صورت دستی همه‌چیز رو درست کنی. ولی با migration، فقط کافیه از قابلیت \", React.createElement(_components.strong, null, \"rollback\"), \" استفاده کنی.\"), \"\\n\", React.createElement(_components.p, null, \"مثلاً توی همون فریمورک Sequelize تو جاوااسکریپت، اگه بخوای آخرین migration رو برگردونی، فقط کافیه دستور زیر رو اجرا کنی:\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<pre class=\\\"grvsc-container quiet-light grvsc-ps-tsSx3w\\\" data-language=\\\"bash\\\" data-index=\\\"3\\\"><code class=\\\"grvsc-code\\\"><span class=\\\"grvsc-line\\\"><span class=\\\"grvsc-source\\\"><span class=\\\"grvsc-tZ0ymb-1 grvsc-tsSx3w-1\\\">npx sequelize-cli db:migrate:undo</span></span></span></code></pre>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"این دستور دقیقاً آخرین تغییراتی که تو دیتابیس اعمال کردی رو برمی‌گردونه و دیتابیس رو به حالت قبل برمی‌گردونه. اگه چندتا migration پشت سر هم داشتی، می‌تونی با اضافه کردن تعدادشون به دستور بالا، چندین مرحله به عقب برگردی.\"), \"\\n\", React.createElement(_components.h3, null, \"Migration در پروژه‌های فردی\"), \"\\n\", React.createElement(_components.p, null, \"حتی وقتی به‌تنهایی روی یه پروژه کار می‌کنی، \", React.createElement(_components.strong, null, \"migration\"), \" همچنان یکی از ابزارهای خیلی مفید و کاربردیه. چرا؟ چون اولاً به تو اجازه میده که تغییرات دیتابیس رو به صورت مرتب و نسخه‌بندی‌شده ذخیره کنی. این یعنی هر وقت که بخوای فیلدی اضافه یا حذف کنی، تغییرات به صورت سازماندهی‌شده باقی می‌مونه. فرض کن چند ماه از پروژه فاصله گرفتی و برگشتی؛ احتمال اینکه یادت نیاد دقیقاً چه تغییراتی توی دیتابیس انجام دادی خیلی زیاده. ولی با migration، تو همیشه یه \", React.createElement(_components.strong, null, \"تاریخچه دقیق\"), \" از همه تغییرات داری و می‌تونی هر تغییری که دادی رو ردیابی و حتی به عقب برگردونی.\"), \"\\n\", React.createElement(_components.p, null, \"علاوه بر این، اگر پروژه‌ات رشد کنه و بخوای بعداً هم‌تیمی اضافه کنی یا پروژه رو روی سرورهای مختلف تست و اجرا کنی، migration بهت کمک می‌کنه که تغییرات به‌راحتی و بدون دردسر روی محیط‌های مختلف اعمال بشه. خلاصه که حتی تو پروژه‌های فردی هم استفاده از migration یه راه هوشمندانه و حرفه‌ای برای مدیریت تغییرات دیتابیسه!\"), \"\\n\", React.createElement(_components.h2, null, \"جمع‌بندی\"), \"\\n\", React.createElement(_components.p, null, \"در کل، \", React.createElement(_components.strong, null, \"migration\"), \" نه‌تنها بهت کمک می‌کنه تغییرات دیتابیس رو به صورت بهینه و خودکار انجام بدی، بلکه تضمین می‌کنه که تو همه مراحل پروژه (از محیط توسعه تا تولید) تغییرات به‌صورت یکپارچه و بدون دردسر اعمال بشه. دیگه لازم نیست نگران این باشی که فلان تغییر روی سرور اصلی اعمال نشده یا یکی از هم‌تیمی‌هات یه چیزی رو فراموش کرده. همه‌چیز به راحتی تحت کنترل خواهد بود و همین موضوع یه پروژه رو از دردسرهای غیرضروری نجات میده.\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","/**\n * @typedef {import('mdx/types.js').MDXComponents} MDXComponents\n * @typedef {import('react').Component<{}, {}, unknown>} Component\n * @typedef {import('react').ReactNode} ReactNode\n */\n\n/**\n * @callback MergeComponents\n *   Custom merge function.\n * @param {Readonly<MDXComponents>} currentComponents\n *   Current components from the context.\n * @returns {MDXComponents}\n *   Additional components.\n *\n * @typedef Props\n *   Configuration for `MDXProvider`.\n * @property {ReactNode | null | undefined} [children]\n *   Children (optional).\n * @property {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @property {boolean | null | undefined} [disableParentContext=false]\n *   Turn off outer component context (default: `false`).\n */\n\nimport React from 'react'\n\n/** @type {Readonly<MDXComponents>} */\nconst emptyComponents = {}\n\nconst MDXContext = React.createContext(emptyComponents)\n\n/**\n * Get current components from the MDX Context.\n *\n * @param {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @returns {MDXComponents}\n *   Current components.\n */\nexport function useMDXComponents(components) {\n  const contextComponents = React.useContext(MDXContext)\n\n  // Memoize to avoid unnecessary top-level context changes\n  return React.useMemo(\n    function () {\n      // Custom merge via a function prop\n      if (typeof components === 'function') {\n        return components(contextComponents)\n      }\n\n      return {...contextComponents, ...components}\n    },\n    [contextComponents, components]\n  )\n}\n\n/**\n * Provider for MDX context.\n *\n * @param {Readonly<Props>} properties\n *   Properties.\n * @returns {JSX.Element}\n *   Element.\n * @satisfies {Component}\n */\nexport function MDXProvider(properties) {\n  /** @type {Readonly<MDXComponents>} */\n  let allComponents\n\n  if (properties.disableParentContext) {\n    allComponents =\n      typeof properties.components === 'function'\n        ? properties.components(emptyComponents)\n        : properties.components || emptyComponents\n  } else {\n    allComponents = useMDXComponents(properties.components)\n  }\n\n  return React.createElement(\n    MDXContext.Provider,\n    {value: allComponents},\n    properties.children\n  )\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","span","p","strong","h3","ol","li","h2","a","code","_provideComponents","components","React","dangerouslySetInnerHTML","__html","href","wrapper","MDXLayout","emptyComponents","MDXContext","useMDXComponents","contextComponents"],"sourceRoot":""}